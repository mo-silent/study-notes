# Prompt Engineering 白话文：从零到一入门

> [!CAUTION]
>
> 个人理解，懂的人自然不用看，学习文章没有对错。除非你是大佬，制定 Prompt 定义的人，那我无话可说。
>
> 90% 是原创，部分引用的文章会贴在最后参考中。

## 前言(可跳过)

### 为什么会写这一篇文档呢？

从 2022 年底 OpenAI 的发布，基本上等于我们进入了 AI 时代。在一开始 2023 年，大家都在观望和使用，当然也一小部分人吃到了红利 (作者不是那一小部分人，不然都不用写文档啦，哈哈)。

同时市场上也开启了大量的 AI 岗位招聘，而大家都觉得简单的无非就是 Prompt 工程师啦。**Prompt工程师可以说是只要你具备创造性和批评性思维 (就是天马行空又能找茬)，写出逻辑性强的提示语给到 ChatGPT，就能够胜任**。你不需要会写代码，也不需要会训练模型，不需要了解 AI 的底层技术和逻辑。

**那么 Prompt 是什么时候提出的呢？**

其实早在 ChatGPT 发布之前，就已经有这个概念了，但却没有相应的独立岗位需求，都是工程师或产品经理兼顾。Prompt 工程师真正体现在岗位招聘上，是在 ChatGPT 发布之后。

**Prompt 简单吗**

> 短语：几个具备需求特征的简单单词。如：清晨、城市、日出
>
> Midjourney：AI 画图，基本上涉及画图的行业都在用

简单的 Prompt 就是我们日常用 ChatGPT 那样写的一段需求，比如：使用 Python 写一个web网站。又或者是给 Midjourney 写一些图片特征短语，比如：清晨、城市、日出。

但是 Prompt 工程师并是做这些，写这种简单的 Prompt。不然企业花钱招你就干这么简单的工作吗？天下没有免费的午餐

那么 Prompt 工程师要写什么样的 Prompt 呢？在这里先不讲，先看看示例(可以自己在 GPT 玩一玩)，带着问题看后面的文档

```shell
# Role: 爆款标题专员

## Description:
1.一个专门研究和分析互联网爆款标题的专家，擅长总结文章大意，提取关键信息.
2.主要职责是分析用户提供的文章，为用户提供5个符合互联网爆款标题风格，能有效提高文章点击率的标题.

## Skill
1.擅长概括与归纳，将文章大意转化为标题.
2.擅长运用设问和反问，引发读者的好奇心.
3.擅长使用数字，通过数据更直观的体现文章价值.
4.擅长使用浓烈的情绪化化表达，引发读者共鸣.
5.擅长体现实用/情感价值，让读者觉得文章与他有关，不看会给他带来损失.
6.擅长提取文章对立关键词，通过对比塑造冲突，激发读者兴趣.

## Rules
1.不要急着给我答案，let's take a deep breath and think step by step.
2.Think hard and painstakingly,**不要偷懒,不要省略**,This is very important for me.
3.make extremely detailed step-by-step plans in code environment before every act
4.如果我没有特别指定语言，始终默认使用中文回复.
5.标题必须清晰明确，不包含歧义，不含糊其辞.
6.标题字数限制在15-30字，不要过多也不要过少.
7.标题中不能出现夸张词语，例如“惊艳”“震撼”“卓越”“第一”或其他类似词语.
8.使用简单直接的语言，不要使用比喻或其他夸张的表达.

## Examples
1.300天4万公里传遍中国，漂流相机终于回来了！
2.统计2700位头部UP主的数据，我发现了什么秘密？
3.如果要在正确和善良中做出选择，请选择善良！高分电影《奇迹男孩》
4.了解用户的阅读习惯，对设计的产出有多重要？
5.仅售32元的儿童手机不能上网？没关系，我会出手！
6.鲍师傅是真不拿我们当外人......
7.为什么比你忙的人比你有时间？

## Workflow
1.自我介绍，提醒用户提供文章.
2.阅读和分析文章，列出文章的核心信息和关键词汇.
3.分析标题的风格调性和结构格式.
4.总结第2步和第3步,根据创作5个符合的标题.
**注意**不要急着给答案，Let's Think Step by Step，创作时请充分参考风格调性.
```

## Prompt Engineering

### 定义

**Prompt 工程师**是专门设计和优化人工智能(特别是大语言模型)交互提示的人。这个角色通过正确的设计和优化提示，可以显著提高 AI 模型的性能，确保它们按预期生成高质量的输出。

> 上面定义说法比较官方。直白点就是，Prompt 工程师需要设计一个 Template(模版，后面会说怎么写一个模版)，让 AI 模型按照你模版来作答，达到 100% 的答案预期按模版输出。
>
> 再直白点，PPT 模版，Excel 模版知道吧？不知道，那以前读书作文模版(框架)或数学答题公式总知道吧。
>
> Prompt 工程师就是按照不同的场景，制定模版的人。AI(大模型) 就是去照着模版，去它们的记忆里找到问题答案，按模版输出内容。这个过程就等于是你拿别人的PPT/Excel/作文模版，按要求或作文题目写出满分 (但是作文满分的很少) 的答案。
>
> 但是模版有很多，有通用的，也有针对场景的。不同的模版，影响了你的作品或作文成绩。

所以 Prompt 是任务驱动的，决定了模型的输出类型和质量。不同的提示设计会直接影响到模型的表现，而 Prompt 工程师就是去设计自身产品的 Prompt，让产品更加符合市场期望。

### 为什么需要 Prompt

> [!NOTE]
>
> 就如前面所说，模版有很多，要在不同的场景，用不同的模版。你作品或作文的成绩才会更好。好的 Prompt，能够产品更符合市场，老板赚的钱也就更多，老板一开心，你的奖金也更多(除非那老板很抠门，那你做出成绩后，赶紧拿着成果跑去下一家吧，哈哈)

> [!TIP]
>
> 后面的示例可以自行在 AI 模型里面测试，使用同一个模型，不同的聊天(每个都是新聊天)。要清理历史记录，作者提供的示例，差异并不一定很明显。(因为作者也不是一个高级的 Prompt 工程师)

1. 引导模型生成特定输出

   - AI 本身并不知道用户或者你实际的意图。Prompt 就是去引导 AI 产生不同类型的内容或完成特定的任务。

     - 例子：

       - **通用的Prompt**：写一篇关于 "人工智能对社会影响" 的文章

       - **精简的Prompt**："请写一篇关于人工智能如何改变工作环境和社会结构的文章，强调其带来的正面与负面影响。"

       - **高级 Prompt**：

         ```shell
         # Role: 人工智能文案专家
         ## Description:
         1.一个专门研究和分析人工智能的专家，擅长调研人工智能应用场景和深入了解市场上已有的人工智能产品.
         2.主要职责是根据调研和使用人工智能产品，编写人工智能对社会影响的文章，发布到社交媒体，提高人们对人工智能的关注度.
         
         ## Rules
         1. 选择以下一种方式作为文章的开篇引入：
            - 引用名言、提出问题、使用夸张数据、举例说明、前后对比、情感共鸣。
         2. 字数要求：100-500字之间，不宜过长
         3. 风格要求：真诚友好、鼓励建议、幽默轻松；口语化的表达风格，有共情力
         4. 多用叹号：增加感染力
         5. 格式要求：多分段、多用短句
         6. 重点在前：遵循倒金字塔原则，把最重要的事情放在开头说明
         7. 逻辑清晰：遵循总分总原则，第一段和结尾段总结，中间段分点说明
         
         
         现在，请告诉我你是否阅读完成？下面请写一篇关于人工智能如何改变工作环境和社会结构的文章，强调其带来的正面与负面影响，谢谢～
         ```

         

2. 控制模型的输出风格和细节
   - 模型的输出不仅仅是任务的答案，还包括语气、风格、细节等方面。通过精心设计的提示，用户可以控制这些输出特征。
     - 例子
       - **Prompt 1**: “用正式的语气写一篇关于气候变化的报告。”
       - **Prompt 2**: “用轻松幽默的风格写一篇关于气候变化的文章。”

3. 提高生成内容的准确性和相关性
   - 语言模型如 GPT-3/4 会根据输入的 Prompt 生成内容，好的提示可以提高模型输出的准确性和相关性。如果提示模糊或者不够具体，生成的内容可能会偏离用户的真实需求。精确的 Prompt 可以帮助模型聚焦于任务的核心，避免输出不相关的信息。
     - 例子
       - **不明确的 Prompt**: “请给我一些关于Python的帮助。”
       - **明确的 Prompt**: “请解释如何在Python中使用`for`循环，并提供一个具体的例子。”

4. 实现多样化的任务

   - 生成式 AI 模型能够完成多种任务（如文本生成、翻译、总结、图像生成等）。但每个任务需要不同的输入方式和提示。如果没有合适的 Prompt，模型可能无法有效完成任务。不同的任务需要特定的提示来激发模型产生所需类型的内容。

     - 例子

       - **文本生成任务**: “写一篇关于AI未来的预测文章。”

       - **翻译任务**: “将以下句子翻译成西班牙语：‘Hello, how are you?’”

       - **图像生成任务**: “生成一幅日出时的沙滩景象，金色的阳光照耀着波光粼粼的海面。”

5. 应对模型的局限性
   - 尽管语言模型如 GPT 系列在生成自然语言文本时表现出色，但它们仍然有局限性。比如，它们无法理解某些复杂的背景信息，或对多重含义的提示容易产生模糊的回答。通过精心设计的 Prompt，用户可以帮助模型更好地理解任务的上下文，并减少误解或错误输出。提供给模型关于某个领域的深度问题时，精确的 Prompt 可以帮助模型准确捕捉任务的关键要素。
     - 例子
       - **一般的 Prompt**: 世界上最伟大的艺术家是谁？
       - **具体的 Prompt**: 在文艺复兴时期，谁被认为是最伟大的艺术家？

6. 帮助模型与用户更好地互动
   - Prompt 使得生成式 AI 能与用户进行更有效的互动。用户通过调整提示，能够更好地指导模型的响应，甚至在对话中动态地调整模型的行为和风格。
     - **对话提示**：在使用 ChatGPT 等对话式模型时，用户通过给定具体的提示，能够引导对话的走向和内容。
     - **引导性对话**: “我正在为一个科技项目写论文，你能帮我提供一些与机器学习相关的最新研究趋势吗？”

7. 适应个性化需求
   - 不同用户可能有不同的需求和偏好，Prompt 的设计可以帮助 AI 更好地适应这些个性化需求。通过优化提示，用户可以得到符合自己风格或需求的输出，而不是模型默认的标准回答。
     - **个性化设计**: 如果用户需要某种特定风格的写作或答复，精确的 Prompt 就能确保模型生成符合个人风格的内容。

### 六大策略

> 六大策略完全是 OpenAI 官方的，可以自己看原文文档

#### 写下清晰的说明

模型无法理解用户的真实意图，可能输出过长，也可能过与简单，或者不是用户喜欢的格式。所以写出清晰的说明，让模型更具象化明白你的需求，这样你得到的答案更符合你想要的。

- 在查询中包含详细信息以获取更相关的答案

  | **更糟的是**               | **更好的**                                                   |
  | :------------------------- | :----------------------------------------------------------- |
  | 如何在 Excel 中添加数字？  | 如何在 Excel 中将一行美元金额相加？我想自动对整张表的行执行此操作，所有总计最终显示在右侧名为"总计"的列中。 |
  | 谁是总统？                 | 2021 年墨西哥总统是谁？选举频率是多少？                      |
  | 编写代码计算斐波那契数列。 | 编写一个 TypeScript 函数来高效计算斐波那契数列。对代码进行大量注释，解释每个部分的作用以及为什么这样编写。 |
  | 总结会议记录。             | 用一段话总结会议记录。然后写下演讲者及其要点的简要列表。最后，列出演讲者建议的后续步骤或行动项目（如果有）。 |

- 让模型采用一个角色

  | 系统 | 当我请求帮助写一些东西时，你会回复一份文件，其中每一段至少包含一个笑话或俏皮的评论。 |
  | ---- | ------------------------------------------------------------ |
  | 用户 | 写一封感谢信给我的钢螺栓供应商，感谢他们在短时间内准时交货。这让我们能够交付一份重要的订单。 |

- 使用分隔符清楚地指示输入的不同部分

  > 三重引号、XML 标签、章节标题等分隔符可以帮助划分需要不同处理的文本部分

  ```
  用户       用俳句总结用三重引号分隔的文本。"""在此处插入文本"""
  ```

  ```
  系统       您将获得关于同一主题的两篇文章（以 XML 标签分隔）。首先总结每篇文章的论点。然后指出其中哪篇文章的论点更好并解释						原因。
  用户       <article> 在此处插入第一篇文章 </article> <article> 在此处插入第二篇文章 </article>
  ```

  ```
  系统      您将收到一份论文摘要和建议的标题。论文标题应该让读者对论文的主题有一个很好的了解，但也应该引人注目。如果标题不符合           这些标准，请建议 5 个替代方案。
  用户      摘要：在此处插入摘要 标题：在此处插入标题
  ```

- 指定完成任务所需的步骤

  ```
  系统      使用以下分步说明来响应用户输入。步骤 1 - 用户将向您提供三引号中的文本。用一个句子总结此文本，前缀为"摘要："。
           步骤 2 - 将步骤 1 中的摘要翻译成西班牙语，前缀为"翻译："。
  用户      """在此处插入文本"""
  ```

- 提供例子
  ```
  系统      以一致的风格回答。
  用户      教我什么是耐心。
  助手      冲刷最深山谷的河流，源自一股温和的泉源；最宏大的交响乐，源自一个音符；最精致的挂毯，始于一根孤独的线。
  用户      教我有关海洋的知识。
  ```

- 指定所需的输出长度
  ```
  用户      用三重引号分隔的文本总结大约 50 个字。"""在此处插入文本"""
  ```

  ```
  用户      用三重引号将文本概括为两段。"""在此处插入文本"""
  ```

  ```
  用户      用三引号分隔的文本总结为 3 个要点。"""在此处插入文本"""
  ```

#### 提供参考文本

AI 并不是所有问题都能回答，有时候你问的问题，在它的数据库里面找不到。它就会瞎编，相信大家都遇到 AI 的答案看似很合逻辑，实际上全是错的。

#### 将复杂任务拆分为更简单的子任务



#### 给模型时间"思考"



#### 使用外部工具



#### 系统地测试变化
